metadata:
    format: Lava-Test Test Definition 1.0
    name: SmokeSanity
    description: "Pre-merge LAVA plan to run AudioPlayback and AudioRecord test cases on every PR"
    maintainer:
        - tmoida@qti.qualcomm.com
    os:
        - openembedded
    scope:
        - functional

run:
    steps:
        - cd Runner
        
        # ========== AudioPlayback Test Cases (5 configs) ==========
        
        # Playback Test 1: playback_config1 (8KHz, 8-bit, 1ch)
        - $PWD/suites/Multimedia/Audio/AudioPlayback/run.sh --clip-name "playback_config1" --res-suffix "Config1" --audio-clips-path /home/AudioClips/ --no-extract-assets || true
        - $PWD/utils/send-to-lava.sh $PWD/suites/Multimedia/Audio/AudioPlayback/AudioPlayback_Config1.res || true
        
        # Playback Test 2: playback_config3 (16KHz, 16-bit, 2ch)
        - $PWD/suites/Multimedia/Audio/AudioPlayback/run.sh --clip-name "playback_config3" --res-suffix "Config3" --audio-clips-path /home/AudioClips/ --no-extract-assets || true
        - $PWD/utils/send-to-lava.sh $PWD/suites/Multimedia/Audio/AudioPlayback/AudioPlayback_Config3.res || true
        
        # Playback Test 3: playback_config5 (24KHz, 24-bit, 6ch)
        - $PWD/suites/Multimedia/Audio/AudioPlayback/run.sh --clip-name "playback_config5" --res-suffix "Config5" --audio-clips-path /home/AudioClips/ --no-extract-assets || true
        - $PWD/utils/send-to-lava.sh $PWD/suites/Multimedia/Audio/AudioPlayback/AudioPlayback_Config5.res || true
        
        # Playback Test 4: playback_config8 (32KHz, 16-bit, 2ch)
        - $PWD/suites/Multimedia/Audio/AudioPlayback/run.sh --clip-name "playback_config8" --res-suffix "Config8" --audio-clips-path /home/AudioClips/ --no-extract-assets || true
        - $PWD/utils/send-to-lava.sh $PWD/suites/Multimedia/Audio/AudioPlayback/AudioPlayback_Config8.res || true
        
        # Playback Test 5: playback_config10 (48KHz, 8-bit, 2ch)
        - $PWD/suites/Multimedia/Audio/AudioPlayback/run.sh --clip-name "playback_config10" --res-suffix "Config10" --audio-clips-path /home/AudioClips/ --no-extract-assets || true
        - $PWD/utils/send-to-lava.sh $PWD/suites/Multimedia/Audio/AudioPlayback/AudioPlayback_Config10.res || true
        
        # ========== AudioRecord Test Cases (5 configs) ==========
        
        # Record Test 1: record_config1 (8KHz, 1ch)
        - $PWD/suites/Multimedia/Audio/AudioRecord/run.sh --config-name "record_config1" --res-suffix "Config1" --record-seconds 10s || true
        - $PWD/utils/send-to-lava.sh $PWD/suites/Multimedia/Audio/AudioRecord/AudioRecord_Config1.res || true
        
        # Record Test 2: record_config3 (16KHz, 2ch)
        - $PWD/suites/Multimedia/Audio/AudioRecord/run.sh --config-name "record_config3" --res-suffix "Config3" --record-seconds 10s || true
        - $PWD/utils/send-to-lava.sh $PWD/suites/Multimedia/Audio/AudioRecord/AudioRecord_Config3.res || true
        
        # Record Test 3: record_config5 (32KHz, 2ch)
        - $PWD/suites/Multimedia/Audio/AudioRecord/run.sh --config-name "record_config5" --res-suffix "Config5" --record-seconds 10s || true
        - $PWD/utils/send-to-lava.sh $PWD/suites/Multimedia/Audio/AudioRecord/AudioRecord_Config5.res || true
        
        # Record Test 4: record_config7 (48KHz, 2ch)
        - $PWD/suites/Multimedia/Audio/AudioRecord/run.sh --config-name "record_config7" --res-suffix "Config7" --record-seconds 10s || true
        - $PWD/utils/send-to-lava.sh $PWD/suites/Multimedia/Audio/AudioRecord/AudioRecord_Config7.res || true
        
        # Record Test 5: record_config9 (96KHz, 2ch)
        - $PWD/suites/Multimedia/Audio/AudioRecord/run.sh --config-name "record_config9" --res-suffix "Config9" --record-seconds 10s || true
        - $PWD/utils/send-to-lava.sh $PWD/suites/Multimedia/Audio/AudioRecord/AudioRecord_Config9.res || true
        
        # Parse and report results
        - $PWD/utils/result_parse.sh
